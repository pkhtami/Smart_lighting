طراحی یک سیستم هوشمند برای کنترل خودکار چراغ‌ها با استفاده از سنسورهای محیطی، با قابلیت‌های زیر:
خاموش کردن چراغ در صورت نور کافی محیط
خاموش کردن چراغ پس از ۱۰ دقیقه عدم تشخیص حرکت
روشن/خاموش کردن چراغ با تشخیص دو کلیک صوتی (دابل کلاپ)

 ماژول‌های مورد استفاده

1. سنسور نور GY-302 (BH1750)
ویژگی‌ها:
رابط I2C
محدوده اندازه‌گیری: 0–65535 لوکس
ولتاژ کاری: 3.3V–5V
نقش در پروژه:
اندازه‌گیری شدت نور محیط و ارسال داده به میکروکنترلر. اگر نور از حد آستانه (مثلاً 500 لوکس) بیشتر باشد، چراغ خاموش می‌شود.

2. سنسور حرکت RCWL-0516
ویژگی‌ها:
فناوری مایکروویو (3.2GHz)
برد تشخیص: 7 متر
زاویه دید ۳۶۰ درجه
ولتاژ کاری: 4–28V
نقش در پروژه:
تشخیص حرکت در محیط. اگر برای ۱۰ دقیقه حرکتی تشخیص داده نشود، چراغ خاموش می‌شود.

3. سنسور صدا KY-037
ویژگی‌ها:
خروجی دیجیتال و آنالوگ
ولتاژ کاری: 3.3V–5V
پتانسیومتر تنظیم حساسیت
نقش در پروژه:
تشخیص دو کلیک صوتی پشت سر هم (دابل کلاپ) برای تغییر وضعیت چراغ (روشن/خاموش).

4. رله SSR 5V
ویژگی‌ها:
نوع Solid State (بدون قطعات مکانیکی)
ولتاژ کنترل: 5V
تحمل جریان خروجی: 2A (240V AC)
نقش در پروژه:
قطع و وصل کردن چراغ‌های متصل به برق شهر با فرمان میکروکنترلر.

5. برد توسعه STM32F103C8T6 Blue Pill
ویژگی‌ها:
پردازنده ARM Cortex-M3
کلاک 72MHz
رابط‌های I2C، GPIO، ADC
نقش در پروژه:
پردازش داده‌های سنسورها و ارسال فرمان به رله.
ماژول
پایه STM32
توضیحات
BH1750 (SDA)
PB7
ارتباط I2C
BH1750 (SCL)
PB6
ارتباط I2C
رله (IN)
PA0
کنترل روشن/خاموش شدن چراغ
سنسور صدا (DO)
PA1
تشخیص دابل کلاپ
سنسور حرکت (OUT)
PA3
تشخیص حضور در محیط
VCC (3.3V/5V)
3.3V/5V
تغذیه ماژول‌ها
GND
GND
اتصال زمین مشترک


 عملکرد سیستم
کنترل با نور محیط:
سنسور BH1750 نور را اندازه می‌گیرد.

اگر نور > 500 لوکس باشد، رله خاموش می‌شود.
کنترل با حرکت:
سنسور RCWL-0516 حرکت را تشخیص می‌دهد.
اگر به مدت ۱۰ دقیقه حرکتی نباشد، رله خاموش می‌شود.
کنترل با صدا:
سنسور KY-037 دو کلیک پشت سر هم را تشخیص می‌دهد.
با هر دابل کلاپ، وضعیت رله تغییر می‌کند (Toggle).

 نکات فنی
تغذیه سنسور حرکت RCWL-0516 با 5V انجام می‌شود.
سنسور صدا KY-037 روی حالت دیجیتال (DO) تنظیم شده است.
از مقاومت Pull-up برای خطوط I2C استفاده شده است (در صورت نیاز).


این گزارش به روزرسانی خواهد شد پس از اجرای فاز عملیاتی.
